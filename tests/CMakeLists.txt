set(GOOGLETEST_VERSION 1.17.0)

if (MSVC)
    set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
endif ()

add_subdirectory(googletest)

set(TEST_SOURCES
        src/test_helper.h
        src/ball_test.cpp
        src/paddle_test.cpp
        src/bricks_manager_test.cpp

        src/collision_detection/arena_edge_collision_detector_test.cpp
        src/collision_detection/brick_collision_detector_test.cpp
        src/collision_detection/paddle_collision_detector_test.cpp

        src/collision_handling/arena_edge_collision_handler_test.cpp
        src/collision_handling/brick_collision_handler_test.cpp
        src/collision_handling/paddle_collision_handler_test.cpp)

add_executable(${PROJECT_NAME}Test_run ${TEST_SOURCES})
target_include_directories(${PROJECT_NAME}Test_run PRIVATE ${PROJECT_SOURCE_DIR}/src)
target_link_libraries(${PROJECT_NAME}Test_run PRIVATE gtest_main ${PROJECT_NAME}Backend)
